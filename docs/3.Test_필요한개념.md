## Test 에 필요한 개념들

* SUT
* BDD
* 상호 작용 테스트 (Interaction Test)
* 상태검증 vs 행위검증
* 테스트 픽스처
* 비욘세 규칙
* Testability
---

### SUT(System Under Test)
- SUT는 테스트 대상 시스템을 의미한다.
- 즉 테스트 하려는 대상이 무엇인지를 의미한다.

### BDD(Behavior Driven Development)
- BDD는 행위 주도 개발을 의미한다.
- (given - when - then) 구조로 테스트를 작성한다.
- 깊게 들어가면 DDD, 애자일 개념이 들어간다.
- 어디에 어떻게 테스트를 넣어야 하는지 고민하게 될때 -> BDD 가 답이된다. -> "행동에 집중해라"
- 시나리오를 강조한다.

### 상호 작용 테스트 (Interaction Test)
- 대상 함수의 구현을 호출하지 않으면서, 그 함수가 어떻게 호출되는지를 검증하는 기법
- 즉 메서드가 실제로 호출이 되었는지 검증하는 테스트(다만 좋은 방법은 아님)
  - 내부 구현이 어떻게 되어있는지 알아야 하기 때문에, 캡슐화에 위배되는 방법이다.

### 상태검증 vs 행위검증
- 상태검증: 결과값을 확인하는 방법
  - 어떤 값을 넣었을때, 나오는 결과값과 기댓값을 비교하는 방법
- 행위검증: 특정 메서드가 호출되었는지 확인하는 방법
  - 어떠한 input 이 있을때 sut 협력객체의 어떤 메서드를 실행하는 가.

### 테스트 픽스처
- 테스트를 수행하기 위해 필요한 데이터나 객체를 의미한다.
- 일반적으로 테스트에 필요한 자원을 생성하는 코드를 말한다.

### 비욘세 규칙
- 대중적인 규칙은 아님
- 유지하고 싶은상태나 정책이 있다면, 그것을 전부 테스트로 만들어라. 라는 의미이다.

### Testability
- 테스트 가능성, 소프트웨어가 테스트 가능한 구조인가를 의미한다.
- 얼마나 쉽게 input을 변경하고, output을 확인할 수 있는지를 의미한다.

---

## 테스트 대역 (Test Double)
- 테스트 대역은 테스트를 수행하기 위해 사용되는 대체제를 의미한다.
- 일반적으로 테스트 대역은 다음과 같이 구분된다.
  - Dummy: 아무 역할이 없는 객체(아무런 동작을 하지 않는다.)
  - Fake: 실제 객체와 유사하지만, 실제로 동작하지 않는 객체(다만 자체 로직을 가지고 있다.)
  - Stub: 특정한 상황에 맞게 미리 정해진 결과를 반환하는 객체(주로 외부 연동하는 컴포넌트에 많이 사용함.) - 보통 Mockito 객체를 많이 사용함
  - Mock: 테스트 대상 객체의 행위를 검증하는 객체(메서드 호출을 확인하기 위한 객체)
  - Spy: 테스트 대상 객체의 행위를 감시하는 객체(메서드 호출 기록감시)
